<!DOCTYPE html>
<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Trusted Reviews</title>
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/animate.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/pe-icon-7-stroke.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/chosen.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/jquery.bxslider.css">
    <link rel="stylesheet" type="text/css" href="html/krystal/html/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,600i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,500i,700" rel="stylesheet">
    <style>
	
		     @media (max-width: 991px){	body .logodiv img{
    padding-bottom: 20px;
    max-width: 100%;
    text-align: center;
    margin: auto;
    display: inherit;
	padding-left: 120px;
}

body .logodiv a{text-align:center; margin: auto;    margin: auto;
    display: block;}

}
        #addMore {
            margin-top: 10px;
            padding: 10px;
            text-align: center;
            background-color: #f9f9f9;
            color: #333;
            border-width: 0 1px 1px 0;
            border-style: solid;
            border-color: #fff;
            box-shadow: 0 1px 1px #ccc;
            transition: all 600ms ease-in-out;
            -webkit-transition: all 600ms ease-in-out;
            -moz-transition: all 600ms ease-in-out;
            -o-transition: all 600ms ease-in-out;
			font-weight: 400;
        }
        #addMore:hover {
            background-color: #fff;
            color: #33739E;
        }
        #theImg{
            margin-left: auto;
            margin-right: auto;
            /* width: 50%; */
            display: block;
        }
        .externalLink{
            display: block;
            margin-top: 10px;
        }
        .popularLinks{
            text-decoration: underline;
        }
/*        input{
            border:none;
            width:90%;
            padding: 5px;
            padding-left: 10px;
            height: 60px !important;
            border-radius: 2px;
            outline: none;
            background: #f1f1f1 !important;
        }*/
        .btn-primary{
            min-width: 55px;
            background-color: #ffdc0f;
            outline: none;
            border:none;
            height: 60px;
        }
        .btn-primary:hover{
            background:#ffdc0f;
            outline: none;
        }
        .btn-primary:not(:disabled):not(.disabled):active, .show>.btn-primary.dropdown-toggle {
            background:  #ffdc0f;
            outline: none;
            border: none;
        }
        .fa-search{
            color:#484848;
        }
        #formId{
            /*display:flex;
            margin-left: 72px;*/
        }
        .ratingType {
            display: inline-block;
            color: black;
            margin-bottom: 0px;
            font-size: 15px;
            font-weight: bold;
        }
        .ratingType1 {
            display: inline-block;
            color: black;
            margin-bottom: 0px;
            font-size: 15px;
        }
        .ratingType2 {
            display: inline-block;
            color: black;
            margin-bottom: 0px;
            font-size: 15px;
        }
        .ratingType3 {
            display: inline-block;
            color: black;
            margin-bottom: 0;
            font-size: 15px;
        }

        .star-rating .review{
            font-size: 15px;
            color: black;
            font-weight: bold;
        }
        .star-rating1 .review1{
            font-size: 15px;
            color: black;
        }
        .star-rating2 .review2{
            font-size: 15px;
            color: black;
        }
        .star-rating3 .review3{
            font-size: 15px;
            color: black;
        }
        .fa-star{
            color: #ffda01;
        }

        .form-search .form-control{
            width: 600px;
            display: inline-block;
            border: none;
            font-size: 13px;
            box-shadow: none;
            border-left: 1px solid #e6e6e6;
            border-radius: 0;
        }
        #btnDiv{
            padding: 0px;
        }
        #searchDiv{
            padding: 0px;
        }
        #submitBtn{
            background-color: #ef6a23;
            height: 60px;
            width: 58px;
            border-radius: 0px 5px 5px 0px;
        }
        #search_text{
            height: 60px;
            border-radius: 5px 0px 0px 5px;
        }



        @media (min-width: 1200px){
            #parrentDiv{
               /* margin-left: 24.4% !important;8?
            }
        }

        @media (min-width: 992px){
            #parrentDiv{
                margin-left: 28%;
            }
        }

        @media (max-width: 1200px){
           /* .card{
                width:60%;
            }*/

        }
        @media (max-width: 992px){
            .card{
                width:80%;
            }
			
        }
        @media (max-width: 768px){
		.logodiv{text-align:center;float:none;}
	
            input{
                width:86%;
            }
            .end{
                padding-right:0px ;
            }
            .end h5{
                font-size:10px ;
            }
        }
        @media (max-width: 560px){
            .card{
                width:100%;
            }
            input{
                width:88%;
            }
            .end h5{
                font-size:8px ;
            }


        }
        @media (max-width: 560px){

            input{
                width:85%;
            }
        }
        @media (max-width: 425px){
            .container{
                padding-left: 0px;
                padding-right:0px;
            }
            input{
                width:81%;
            }

        }
        @media (max-width: 355px){

            input{
                width:80%;
            }

        }
        @media (max-width: 318px){

            .btn-primary{
                min-width: auto;
            }

        }
		
		
		
		

    </style>
</head>
<body class="page-product list-view">
<div class="wrapper">
<!--    <form id="block-search-mobile" method="get" class="block-search-mobile">
        <div class="form-content">
            <div class="control">
                <a href="#" class="close-block-serach"><span class="icon fa fa-times"></span></a>
                <input type="text" name="search" placeholder="Search" id="textInput" class="input-subscribe">
                <button type="submit" id="submitBtn" class="btn search">
                    <span><i class="fa fa-search" aria-hidden="true"></i></span>
                </button>
            </div>
        </div>
    </form>-->
    <!-- HEADER -->
    <header class="site-header header-opt-1">
        <!-- header-top -->
        <div class="header-top">
            <div class="container">
                <!-- hotline -->
                <ul class="nav-top-left" >
                    <li><a href="">ConsumerReviews - More than 9.000.000 Reviews</a></li>
                </ul><!-- hotline -->
                <!-- heder links -->
                <ul class="nav-top-right krystal-nav">
                    <li ><a>Language</a></li>
                    <li class="menu-item-has-children">
                        <a class="dropdown-toggle">
                            <img src="html/krystal/html/images/home1/l1.jpg" alt="flag">English</i>
                        </a>
                        
                    </li>
                   
                   
                </ul><!-- heder links -->
            </div>
        </div> <!-- header-top -->
        <!-- header-content -->
        <div class="header-content">
            <!--<div class="container" style="height: 5px">
                <div class="row">
                    <div class="col-md-2 nav-left">
                        &lt;!&ndash; logo &ndash;&gt;
                        <strong class="logo">
                            <a href=""><img src="html/krystal/html/images/home1/logo.jpg" alt="logo"></a>
                        </strong>&lt;!&ndash; logo &ndash;&gt;
                    </div>
                </div>

            </div>-->

        </div><!-- header-content -->
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-xs-12 logodiv">
				<a href="http://consumerreviews.github.io/"><img src="html/krystal/html/images/logo.png"></a></div>
                <div class="col-md-8 col-xs-12" id="parrentDiv">
                    <div class="col-md-8 col-xs-10" id="searchDiv">
                        <div class="form-group">
                            <form id="formId" >
                                <input type="text" class="form-control"  id="search_text" placeholder="Search Trusted Reviews for Products or Services">
                            </form>
                        </div>
                    </div>
                    <div class="col-md-4 col-xs-2" id="btnDiv">
                        <div class="form-group">
                            <button type="button" id="submitBtn" class="btn btn-default" onchange="search_from_csv()">
                                <span class="fa fa-search"></span>
                            </button>
                        </div>

                    </div>
                </div>

            </div>
        </div>
        <!-- header-menu-bar -->
        <div class="header-menu-bar header-sticky">
            <div class="header-menu-nav menu-style-2">
                <div class="container">
                    <div class="header-menu-nav-inner">
                        <div id="box-vertical-megamenus" class="box-vertical-megamenus nav-toggle-cat">
                            <h4 class="title active">
                                    <span class="btn-open-mobile home-page">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </span>
                                 <span class="title-menu">MENU</span>
                            </h4>
                            <div class="vertical-menu-content" >
                                <span class="btn-close hidden-md"><i class="fa fa-times" aria-hidden="true"></i></span>
                                <ul class="vertical-menu-list">
                                    <li><a href="index.html">HOMEPAGE</a></li>
									<li><a href="https://consumerreviews.de/login">LOGIN</a></li>
								    <li><a href="https://consumerreviews.de/badges.html">BUSINESS</a></li>
									<li><a href="https://consumerreviews.de/pricing.html">PRICING</a></li>
								

								

                                </ul>
                            </div>
                        </div>
                        <div class="header-menu header-menu-resize">
                            <ul class="header-nav krystal-nav">
                                <li class="btn-close hidden-md"><i class="fa fa-times" aria-hidden="true"></i></li>
                          <li>
                                    <a class="dropdown-toggle">POPULAR:</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
	<li>
                                    <a href="search_result.html?search=MICROSOFT" class="dropdown-toggle">MICROSOFT</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
                               
								<li>
                                    <a href="search_result.html?search=L%27Oreal" class="dropdown-toggle">L'OREAL</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
                                <li>
                                    <a href="search_result.html?search=DEWALT" class="dropdown-toggle">DEWALT</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
								   <li>
                                    <a href="search_result.html?search=Lenovo" class="dropdown-toggle">LENOVO</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
								   <li>
                                    <a href="search_result.html?search=EPSON" class="dropdown-toggle">EPSON</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
								   <li>
                                    <a href="search_result.html?search=GILLETTE" class="dropdown-toggle">GILLETTE</a>
                                    <span class="toggle-submenu hidden-md"></span>
                                </li>
							
                                  
                            </ul>
                        </div>
                        <span data-action="toggle-nav" class="menu-on-mobile hidden-md">
                                <span class="btn-open-mobile home-page">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </span>
                                <span class="title-menu-mobile">Popular</span>
                            </span>
                    </div>
                </div>
            </div>
        </div>
    </header><!-- end HEADER -->
    <!-- MAIN -->
    <main class="site-main product-list">
        <div class="container">
            <ol class="breadcrumb-page">
                <li><a href="http://consumerreviews.github.io//">Home </a></li>
                <li class="active"><a href="#">Search Results  </a></li>
            </ol>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-9 col-sm-8 float-none float-right padding-left-5">
                    <div class="main-content">

                        <div class="toolbar-products">
                            <div class="toolbar-option">
                                <div class="toolbar-sort">
                                    <select class="chosen-select sorter-options form-control" >
                                        <option selected="selected" value="position">Search Results</option>
                                        <option value="name">Ratings</option>
                                    </select>
                                </div>

                                <div class="modes">
                                    <a title="List" class="active modes-mode mode-list">
                                        <span>LIST</span>
                                    </a>
                                </div>
                            </div>
                        </div>



                        <div class="products products-list">


                        </div>
<!--Load more-->
                        <a href="#" id="loadMore" style="display: none">Load More</a>
                        <div class="loadMore">
                            <button id="addMore" data-start = "0" data-end= "50" data-count="1"->Load More</button>
                        </div>
                        <!--Load more-->
                        <div class="externalLink" style="display: none">
                            <b>Popular Searches: </b>
                            <a href="search_result.html?search=epson" class="popularLinks" >Epson Printer Scanner,</a>
						<a href="search_result.html?search=samsung" class="popularLinks" >Samsung T5 Portable SSD,</a>
						<a href="search_result.html?search=lenovo" class="popularLinks" >Lenovo Laptop,</a>
						<a href="search_result.html?search=crucial" class="popularLinks" >Crucial MX 500,</a>
						<a href="search_result.html?search=nintendo" class="popularLinks" >Nintendo,</a>
						<a href="search_result.html?search=USB%20Wifi%20Adapter" class="popularLinks" >USB Wifi Adapter,</a>
						<a href="search_result.html?search=philips" class="popularLinks" >Philips,</a>
						<a href="search_result.html?search=tablet" class="popularLinks" >Tablet Accessories,</a>
						<a href="search_result.html?search=Apple%20iPad" class="popularLinks" >Apple iPad,</a>
						<a href="search_result.html?search=Linksys" class="popularLinks" >Linksys E2500 Adv</a>
                        </div>

                        <div class="pagination">
<!--<ul class="nav-links">
                                <li class="active"><a href="">1</a></li>
                                <li><a href="">2</a></li>
                                <li><a href="">3</a></li>
                                <li class="back-next"><a href="">Next</a></li>
                            </ul>-->

                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-4">
                    <div class="col-sidebar">
                        <div class="filter-options">
                            <div class="block-title"></div>
                            <div class="block-content">
                                <div class="filter-options-item filter-categori">
                                    <div class="filter-options-title"></div>
                                    <div class="filter-options-content">
                                        <ul>
                                            <li><label class="inline" ><input type="checkbox"><span class="input"></span>Search Results</label></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!--  </div>
                             <div class="block-banner-sidebar">
                                 <a href=""><img src="html/krystal/html/images/product/banner-sidebar.jpg" alt="banner-sidebar"></a>
                             </div>-->

                        </div>
                    </div>
                </div>
            </div>

    </main><!-- end MAIN -->
    <!-- FOOTER -->
    <footer class="site-footer footer-opt-2">
        <div class="copyright full-width">
            <div class="container">
                <div class="copyright-right">
                    © All rights reserved.
                </div>

            </div>
        </div>
    </footer><!-- end FOOTER -->
    <!--back-to-top  -->
    <!-- <a href="#" class="back-to-top">
        <i aria-hidden="true" class="fa fa-angle-up"></i>
    </a> -->
</div>
<a href="#" id="scrollup" title="Scroll to Top">Scroll</a>
<!-- jQuery -->
<script type="text/javascript" src="html/krystal/html/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/bootstrap.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/owl.carousel.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/wow.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.actual.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.bxslider.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.sticky.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.elevateZoom.min.js"></script>
<script src="html/krystal/html/js/fancybox/source/jquery.fancybox.pack.js"></script>
<script src="html/krystal/html/js/fancybox/source/helpers/jquery.fancybox-media.js"></script>
<script src="html/krystal/html/js/fancybox/source/helpers/jquery.fancybox-thumbs.js"></script>
<script type="text/javascript" src="html/krystal/html/js/function.min.js"></script>
<script type="text/javascript" src="html/krystal/html/js/Modernizr.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.plugin.js"></script>
<script type="text/javascript" src="html/krystal/html/js/jquery.countdown.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.12.0/d3.js"></script>
<script type="text/javascript" src="lod.js"></script>

    
<script>
$('#submitBtn').click(function () {
   let search = $('#search_text').val();
   if(search != '') {
       window.location.href = "search_result.html?search="+search;
   }
});

function checkKey(e){

    switch (e.keyCode) {

        case 13:
            e.preventDefault();
            let search = $('#search_text').val();
            if(search != '') {
                window.location.href = "search_result.html?search="+search;
            }
            break;
    }
}

$(document).keydown (checkKey);
/*    $( window ).on( "load", function() {
    $(".products-list .product-items").slice(0, 10).show();
    $("#loadMore").on('click', function (e) {
        e.preventDefault();
        $(".products-list .product-items:hidden").slice(0, 15).slideDown();
        if ($(".products-list .product-items:hidden").length == 0) {
            $("#load").fadeOut('slow');
        }
        $('html,body').animate({
            scrollTop: $(this).offset().top
        }, 1500);
    });
});*/
 var product = (function () {/*
 <div class="product-image">
    <img class="product_image" src="html/krystal/html/images/product/p2.jpg" alt="p2"></a>
 </div>
 <div class="product-info">
 <div class="product-name"><a class="product_title">Smartphone MTK6737 Quad Core.</a></div>
 <div class="product-text">This is test</div>
 <div class="div-star-rating">
     <span class="star-rating">
     <span class = "ratingType">Overall: </span>
        <span class="review"></span>
     </span>
 </div>
 <div class="div-star-rating1">
     <span class="star-rating1">
     <span class = "ratingType1">Quality:</span>
        <span class="review1"> </span>
     </span>
 </div>
 <div class="div-star-rating2">
     <span class="star-rating2">
     <span class = "ratingType2">Specs:</span>
        <span class="review2"></span>
     </span>
 </div>
 <div class="div-star-rating3">
     <span class="star-rating3">
     <span class = "ratingType3">User Experience:</span>
        <span class="review3"></span>
     </span>
 </div>
 <div class="product-infomation"></div>
 </div>
 */}).toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1];
    const urlParams = new URLSearchParams(window.location.search);
    const search = urlParams.get('search');

    const rangeValue = 5;

    $('#addMore').click(function () {
        var count = +document.getElementById('addMore').getAttribute('data-count');
        document.getElementById('addMore').setAttribute('data-count',count+1);
        addFilteredElements(dataToShow.slice(count*rangeValue +1, count*rangeValue + rangeValue))
        $(".products-list .product-items").slice(0, 50).show();
       // e.preventDefault();
        $(".products-list .product-items:hidden").slice(0, 100).slideDown();
        if ($(".products-list .product-items:hidden").length == 0) {
            $("#load").fadeOut('slow');
        }

    })

    d3.csv("csv/nn888.csv").then(function(data) {
    var searchTerm = search;
    var filteredData = [];
    dataToShow = filteredData;
    data.filter(function (d) {
       if(d.title.toLowerCase().search(searchTerm.toLowerCase()) != -1){
           filteredData.push(d);
       }
    })
        if(filteredData.length == 0){
            $('#addMore').remove();
            $('.products-list').prepend('<div class="row"> <div class="col-6 notFound"></div> </div>')
            $('.notFound').prepend($('<img>',{id:'theImg',src:'img/notFound.JPG'}));
            $('.externalLink').show();
        }else{
            addFilteredElements(dataToShow.slice(0,rangeValue));
        }

});

    function addFilteredElements(data){
        console.log(data);
        var c = document.createDocumentFragment();
        for(let i=0; i<data.length; i++){
                let product_item = document.createElement('div');
                product_item.className='product-items';
                product_item.innerHTML = product;
                product_item.querySelector('.product_image').src = data[i].link;
                product_item.querySelector('.product_title').textContent = data[i].title;
                product_item.querySelector('.product-text').textContent = data[i].text;
                //product_item.querySelector('.product-infomation').textContent = data[i][3];

                /*$(product_item).find('.product_image')[0].src = collection[i][2];
                $(product_item).find('.product_title').text(collection[i][0]);
                $(product_item).find('.product-infomation').text(collection[i][3]);*/
                for(let j=0; j<parseInt(data[i].rating); j++){
                    /**ratinn=$(this).text(collection[i][1]);
                     console.log(ratinn);**/
                    $(product_item).find('.star-rating').prepend('<i class="fa fa-star" aria-hidden="true"></i>');
                }
                for(let j=0; j<parseInt(data[i].rating1); j++){
                    $(product_item).find('.star-rating1').prepend('<i class="fa fa-star" aria-hidden="true"></i>');
                }
                for(let j=0; j<parseInt(data[i].rating2); j++){
                    $(product_item).find('.star-rating2').prepend('<i class="fa fa-star" aria-hidden="true"></i>');
                }
                for(let j=0; j<parseInt(data[i].rating3); j++){
                    $(product_item).find('.star-rating3').prepend('<i class="fa fa-star" aria-hidden="true"></i>');
                }

                $(product_item).find('.review').prepend('<span class="rate-num">'+data[i].rating+' / 5 Rating</span>');
                $(product_item).find('.review1').prepend('<span class="rate-num">'+data[i].rating1+' / 5 Rating</span>');
                $(product_item).find('.review2').prepend('<span class="rate-num">'+data[i].rating2+' / 5 Rating</span>');
                $(product_item).find('.review3').prepend('<span class="rate-num">'+data[i].rating3+' / 5 Rating</span>');
                c.appendChild(product_item);
                //$('.products-list').append(product_item);
        }
        $('.products-list').append(c);
    }
    </script>
</body>
</html>
